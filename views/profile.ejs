<%- include('partials/header') %>

<div class="container">
  <div class="page-header">
    <h1>
      <i class="fas fa-user-circle"></i>
      My Profile
    </h1>
    <p class="subtitle">Your anonymous confession statistics</p>
  </div>

  <div class="profile-container">
    <div class="profile-card">
      <div class="profile-avatar">
        <i class="fas fa-user-secret"></i>
      </div>
      <h2><%= user.displayName %></h2>
      <p class="profile-email">
        <i class="fas fa-envelope"></i>
        <%= user.email %>
      </p>
      <p class="profile-joined">
        <i class="fas fa-calendar-check"></i>
        Joined <%= new Date(user.createdAt).toLocaleDateString('en-US', { 
          year: 'numeric',
          month: 'long', 
          day: 'numeric'
        }) %>
      </p>
    </div>

    <div class="stats-container">
      <h3>
        <i class="fas fa-chart-bar"></i>
        Your Statistics
      </h3>
      
      <div class="stats-grid">
        <div class="stat-box">
          <div class="stat-icon" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
            <i class="fas fa-comment-dots"></i>
          </div>
          <div class="stat-info">
            <strong><%= userConfessions %></strong>
            <span>Total Confessions</span>
          </div>
        </div>

        <div class="stat-box">
          <div class="stat-icon" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
            <i class="fas fa-thumbs-up"></i>
          </div>
          <div class="stat-info">
            <strong><%= stats.totalLikes %></strong>
            <span>Likes Received</span>
          </div>
        </div>

        <div class="stat-box">
          <div class="stat-icon" style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);">
            <i class="fas fa-heart"></i>
          </div>
          <div class="stat-info">
            <strong><%= stats.totalLoves %></strong>
            <span>Loves Received</span>
          </div>
        </div>

        <div class="stat-box">
          <div class="stat-icon" style="background: linear-gradient(135deg, #30cfd0 0%, #330867 100%);">
            <i class="fas fa-laugh"></i>
          </div>
          <div class="stat-info">
            <strong><%= stats.totalLaughs %></strong>
            <span>Laughs Received</span>
          </div>
        </div>

        <div class="stat-box">
          <div class="stat-icon" style="background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);">
            <i class="fas fa-fire"></i>
          </div>
          <div class="stat-info">
            <strong><%= stats.totalLikes + stats.totalLoves + stats.totalLaughs %></strong>
            <span>Total Reactions</span>
          </div>
        </div>

        <div class="stat-box">
          <div class="stat-icon" style="background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);">
            <i class="fas fa-trophy"></i>
          </div>
          <div class="stat-info">
            <strong><%= userConfessions > 0 ? Math.round((stats.totalLikes + stats.totalLoves + stats.totalLaughs) / userConfessions) : 0 %></strong>
            <span>Avg Reactions</span>
          </div>
        </div>
      </div>

      <div class="profile-actions">
        <a href="/confessions/new" class="btn btn-primary">
          <i class="fas fa-plus"></i>
          New Confession
        </a>
        <a href="/confessions/history" class="btn btn-secondary">
          <i class="fas fa-history"></i>
          View History
        </a>
      </div>
    </div>
  </div>

  <div class="info-section">
    <h3>
      <i class="fas fa-shield-alt"></i>
      Privacy & Security
    </h3>
    <div class="info-grid">
      <div class="info-item">
        <i class="fas fa-user-secret"></i>
        <div>
          <strong>Anonymous Posting</strong>
          <p>Your confessions are completely anonymous to other users</p>
        </div>
      </div>
      <div class="info-item">
        <i class="fas fa-lock"></i>
        <div>
          <strong>Secret Code Protection</strong>
          <p>Only you can edit or delete your confessions with your secret code</p>
        </div>
      </div>
      <div class="info-item">
        <i class="fas fa-shield-alt"></i>
        <div>
          <strong>Secure Authentication</strong>
          <p>Protected by Google OAuth 2.0 authentication</p>
        </div>
      </div>
    </div>
  </div>
</div>

<%- include('partials/footer') %>
